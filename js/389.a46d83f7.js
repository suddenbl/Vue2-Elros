"use strict";(self["webpackChunkvue_elros"]=self["webpackChunkvue_elros"]||[]).push([[389],{8389:function(t,r,e){e.r(r),e.d(r,{default:function(){return E}});var a=function(){var t=this,r=t._self._c;return r("div",[r("h1",{staticClass:"title"},[t._v("Создание организации")]),r("div",{staticClass:"creation-container"},[r("CreationForm")],1)])},n=[],o=function(){var t=this,r=t._self._c;return r("form",{staticClass:"creation-form",on:{submit:function(r){return r.preventDefault(),t.createOrganization(t.formData.fullName,t.formData.shortName,t.formData.description)}}},[r("CreationFormBlock",{attrs:{input:"full",title:"Полное наименование",value:t.formData.fullName,error:t.nameError},on:{inputChange:function(r){return t.updateData("fullName",r)}}}),r("CreationFormBlock",{attrs:{input:"short",title:"Краткое наименование",value:t.formData.shortName,error:t.shortNameError},on:{inputChange:function(r){return t.updateData("shortName",r)}}}),r("CreationFormBlock",{attrs:{input:"textarea",title:"Описание",value:t.formData.description,error:t.descriptionError},on:{inputChange:function(r){return t.updateData("description",r)}}}),r("CreationFormBlock",{attrs:{input:"picture",title:"Картинка"}}),r("div",{staticClass:"creation-form-buttons"},[r("router-link",{staticClass:"router-link",attrs:{to:"/"}},[r("TButton",{staticClass:"back-button",attrs:{textLabel:"Назад"}})],1),r("TButton",{attrs:{textLabel:"Создать"}})],1)],1)},i=[],s=(e(4114),function(){var t=this,r=t._self._c;return r("div",{staticClass:"block-container"},[r("h3",{staticClass:"block-title"},[t._v(t._s(t.title))]),r("div",{staticClass:"block-container"},["full"===t.input?r("input",{staticClass:"block-input",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(r){return t.$emit("inputChange",r.target.value)}}}):t._e(),""!==t.error&&"full"===t.input?r("div",{staticClass:"input-error"},[t._v(t._s(t.error))]):t._e()]),r("div",{staticClass:"block-container"},["short"===t.input?r("input",{staticClass:"block-input",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(r){return t.$emit("inputChange",r.target.value)}}}):t._e(),""!==t.error&&"short"===t.input?r("span",{staticClass:"input-error"},[t._v(t._s(t.error))]):t._e()]),r("div",{staticClass:"block-container"},["textarea"===t.input?r("textarea",{staticClass:"block-input",domProps:{value:t.value},on:{input:function(r){return t.$emit("inputChange",r.target.value)}}}):t._e(),""!==t.error&&"textarea"===t.input?r("span",{staticClass:"input-error"},[t._v(t._s(t.error))]):t._e()]),r("div",{staticClass:"block-container"},["picture"===t.input?r("input",{attrs:{type:"file",accept:"image/*"},on:{change:function(r){return t.addFile(r)}}}):t._e()])])}),u=[],l={props:{title:{type:String,required:!0},input:{type:String,required:!0},value:{required:!1},error:{type:String,required:!1}},methods:{addFile(t){const r=t.target.files[0],e=new FileReader;e.onload=()=>{},e.onerror=t=>{console.error("Ошибка чтения файла:",t)},e.readAsDataURL(r)}}},c=l,p=e(1656),m=(0,p.A)(c,s,u,!1,null,"95d5b0a8",null),d=m.exports,f=e(5455),h=e(3640),v={components:{CreationFormBlock:d,TButton:f.A},data(){return{organizationStore:null,formData:{fullName:"",shortName:"",description:""},nameError:"",shortNameError:"",descriptionError:""}},created(){this.organizationStore=(0,h.E)()},methods:{updateData(t,r){this.formData[t]=r},formValidate(t,r,e){let a=!1;return this.nameError="",this.shortNameError="",this.descriptionError="",t&&r&&e&&(a=!0),t||(this.nameError="Заполните полное наименование!",a=!1),r||(this.shortNameError="Заполните краткое наименование!",a=!1),e||(this.descriptionError="Заполните описание!",a=!1),a},createOrganization(t,r,e,a=!0){const n=this.formValidate(t,r,e);n&&(this.organizationStore.createOrganization(t,r,e,a),this.$router.push("/"))}}},C=v,_=(0,p.A)(C,o,i,!1,null,"28a4ccba",null),g=_.exports,k={components:{CreationForm:g}},b=k,D=(0,p.A)(b,a,n,!1,null,null,null),E=D.exports}}]);
//# sourceMappingURL=389.a46d83f7.js.map